@using Microsoft.AspNetCore.Mvc.TagHelpers
@using TaskManager.Entities.Enums
@using TaskManager.Models.TaskItem
@using TaskManager.Helpers
@model TaskItemViewModel
@{
    ViewData["Title"] = "Detail úkolu";
}

<a asp-action="List" class="btn btn-secondary">Zpět na seznam</a>

<partial name="_MessageHandler"/>

<div class="card shadow-sm mt-2">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="card-title mb-0">@Model.Title</h3>
        <div>
            <a asp-action="Update" asp-route-id="@Model.Id" class="btn btn-warning me-1">Upravit</a>
            <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Smazat</a>
        </div>
    </div>
    <div class="card-body">
        <p class="mb-2">
            <strong>Vytvořeno:</strong>
            <span>@(Model.CreatedAt.ToString("dd. MM. yyyy HH:mm"))</span>
        </p>
        <p class="mb-2">
            <strong>Požadovaný termín dokončení:</strong>
            <span>@(Model.DueDate?.ToString("f") ?? "Neuvedeno")</span>
        </p>
        <p class="mb-2">
            <strong>Stav:</strong>
            <span class="badge @ViewHelper.GetBadgeClass(Model.State)">@Model.State.GetDisplayName()</span>
        </p>
        <hr/>
        <p>@Model.Description</p>
    </div>
</div>